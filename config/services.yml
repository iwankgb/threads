services:
    request:
        class: HttpRequest
        scope: prototype
    crawler:
        class: Symfony\Component\DomCrawler\Crawler
        scope: prototype
    scrapper:
        class: Iwan\Scrapping\Worker
        arguments: ['@request', '@crawler']
        scope: prototype
    threaded_scrapper:
        class: Iwan\Scrapping\ThreadedWorker
        arguments: ['@scrapper', '@logger_mutex', '/home/maciek/projects/threads/threads.log']
        scope: prototype
    logger_mutex:
        class: Mutex
        factory_class: Mutex
        factory_method: create
        scope: container
